// eslint-disable-next-line no-undef
let pokemonRepository=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=150",n="cm",i=[],o="kg",s=[];function a(t){e.push(t)}function r(e){const t=e.toLowerCase();return e.charAt(0).toUpperCase()+t.slice(1)}function c(e){let t=e.name,n=document.querySelector(".pokemon-list"),i=document.createElement("div"),o=document.createElement("div");o.innerText=t,o.classList.add("pokemon-button"),o.classList.add("btn"),o.classList.add("btn-primary"),o.setAttribute("data-target","#pokemonModal"),o.setAttribute("data-toggle","modal"),i.classList.add("group-list-item"),o.addEventListener("click",()=>{!function(e){h(e).then(function(){$(".modal-title").text(e.name),$(".modal-title").append('<div class="sr-only">'+e.name+"</div>"),$(".height-container").text("Height: "+e.height+" cm"),$(".weight-container").text("Weight: "+e.weight+" kg"),$(".height-container").append('<span onClick="pokemonRepository.heightConverter($(`.modal-title`).val())" class="conversion" id="height-converter">inches</span>'),$(".height-container").append('<div class="sr-only">height '+e.height+" centimeters, or "+e.heightInches+" inches</div>"),$(".weight-container").append('<span onClick="pokemonRepository.weightConverter($(`.modal-title`).val())" class="conversion" id="weight-converter">lbs</span>'),$(".weight-container").append('<div class="sr-only">weight '+e.weight+" kilograms, or "+e.weightPounds+" pounds</div>"),1===e.types.length&&($(".types-container").text("Type: "+r(e.types[0].type.name)),$(".types-container").append('<div class="sr-only">'+e.types[0].type.name+"</div>")),2===e.types.length&&($(".types-container").text("Types: "+r(e.types[0].type.name)+", "+r(e.types[1].type.name)),$(".types-container").append('<div class="sr-only">'+e.types[0].type.name+" and "+e.types[1].type.name+"</div>")),$(".img-container").attr("src",e.imageUrl),$(".img-container").append('<div class="sr-only">a picture of '+e.name+"</div>")})}(e)}),i.appendChild(o),n.appendChild(i)}function h(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrl=t.sprites.front_default,e.height=10*t.height,e.heightInches=Math.round(10*t.height/2.5),e.weight=t.weight/10,e.weightPounds=Math.round(t.weight/10*2.2),e.types=t.types,s=[],(i=[]).push(e.height),i.push(e.heightInches),s.push(e.weight),s.push(e.weightPounds)}).catch(function(e){console.error(e)})}return{add:a,getAll:function(){return e},addListItem:c,loadList:function(){return fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){a({name:r(e.name),detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:h,search:function(t){$(".pokemon-list").empty(),e.forEach(function(e){e.name.indexOf(r(t))>-1&&c(e)})},heightConverter:function(){"cm"===n?($(".height-container").text("Height: "+i[1]+" inches"),$(".height-container").find("span").remove(),$(".height-container").append('<span onClick="pokemonRepository.heightConverter($(`.modal-title`).val())" class="conversion" id="height-converter">cm</span>'),n="inches"):"inches"===n&&($(".height-container").text("Height: "+i[0]+" cm"),$(".height-container").find("span").remove(),$(".height-container").append('<span onClick="pokemonRepository.heightConverter($(`.modal-title`).val())" class="conversion" id="height-converter">inches</span>'),n="cm")},weightConverter:function(){"kg"===o?($(".weight-container").text("Weight: "+s[1]+" lbs"),$(".weight-container").find("span").remove(),$(".weight-container").append('<span onClick="pokemonRepository.weightConverter($(`.modal-title`).val())" class="conversion" id="weight-converter">kg</span>'),o="pounds"):"pounds"===o&&($(".weight-container").text("Weight: "+s[0]+" kg"),$(".weight-container").find("span").remove(),$(".weight-container").append('<span onClick="pokemonRepository.weightConverter($(`.modal-title`).val())" class="conversion" id="weight-converter">lbs</span>'),o="kg")}}}();pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})}),$("#search").on("keyup",function(){pokemonRepository.search($(this).val())});